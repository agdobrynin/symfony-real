# –ö—É—Ä—Å "Learn PHP Symfony Hands-On Creating Real World Application" –Ω–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ udemy.com

[–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ–± —É—Å–ø–µ—à–Ω–æ–º –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–∏ –∫—É—Ä—Å–∞.](https://www.udemy.com/certificate/UC-bdc0458e-d782-472a-844f-ff9b6fe794fb/)

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –ø—Ä–æ–µ–∫—Ç–∞:

–î–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –Ω—É–∂–µ–Ω docker (docker desktop) –∞ —Ç–∞–∫ –∂–µ docker-compose

````
|
|_ app/ <-- symfony –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏ —Ñ—Ä–æ–Ω—Ç —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞
|_ docker-files/ <-- –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
|_ docker-compose.yml <--- —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ docker-compose
|_ docker-compose.override.yml <--- —Ñ–∞–π–ª –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
````

#### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∏ –∏—Ö –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:

````
consumer      –ö–æ–Ω—Å—å—é–º–µ—Ä symfony
database      Postgres –±–∞–∑–∞ (–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ localhost –ø–æ—Ä—Ç 5432)
front         –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—Å —Å NodeJs –∏ —Ñ—Ä–æ–Ω—Ç–æ–≤–æ–π —á–∞—Å—Ç—å—é (yarn –∏ symfony encore)
mailcatcher   –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º —Å symfony
              —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–∏—Å–µ–º http://localhost:1080
nginx         –í—ç–± —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ –∞–¥—Ä–µ—Å—É http://localhost
php           –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å symfony
````

## –°–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è **docker** –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –∏ –≤–Ω–µ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```shell
cp .env-example .env
```

–î–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è **symfony** –ø—Ä–æ–∫—Ç–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª –∏ –≤–Ω–µ—Å—Ç–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è
–ø—Ä–æ–µ–∫—Ç–∞

```shell
cp app/.env-example app/.env
```

—Å–æ–±–∏—Ä–∞–µ–º –∫–æ–Ω—Ç–µ–Ω–µ—Ä—ã –∏ —Å—Ç—Ä–∞—Ç—É–µ–º docker
```shell
docker-compose up -d --build
```
–°–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞:
```shell
docker-compose run --rm front sh -c "yarn install && yarn encore production"
```

üèÉüèª –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö "fixtures" –≤—ã–ø–æ–ª–Ω–∏—Ç—å —á–µ—Ä–µ–∑ docker-compose –∫–æ–º–∞–Ω–¥—É
```shell
docker-compose run --rm php sh -c "php bin/console doctrine:fixtures:load -n"
```
üì∫ –∏–ª–∏ –∂–µ –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —Ä–µ–∂–∏–º–æ–º –∑–∞–π–¥—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä _php_
```shell
docker-compose exec php bash
```

#### –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π symfony –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –∑–∞—Ö–æ–¥–∏—Ç—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä _php_
–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è symfony:

```shell
docker-compose exec php bash
```

–ø–æ—è–≤–∏—Ç—Å—è –∫–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ç–æ—Ä–∞ **bash** –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞. –ù–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ä–æ—É—Ç—ã
–≤ symfony –ø—Ä–æ–µ–∫—Ç–µ:

```shell
php bin/console debug:route
```

üöÄ –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É

```
http://localhost
```

üìß –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è MailCatcher –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É

```
http://localhost:1080/
```

#### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

–í –ø—Ä–æ–µ–∫—Ç–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Ç–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ 3—Ö —É—Ä–æ–≤–Ω–µ–π - Unit —Ç–µ—Å—Ç—ã, Integration —Ç–µ—Å—Ç—ã, Functional —Ç–µ—Å—Ç—ã

–î–ª—è –∑–∞–ø—É—Å–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:

```shell
docker-compose run --rm php sh -c 'make tests-all'
```

–¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–æ–ª—å–∫–æ Unit —Ç–µ—Å—Ç–æ–≤

```shell
docker-compose run --rm php sh -c 'make test-unit'
```

–¥–ª—è –∑–∞–ø—É—Å–∫–∞ Integration —Ç–µ—Å—Ç–æ–≤

```shell
docker-compose run --rm php sh -c 'make tests-integration'
```

–¥–ª—è –∑–∞–ø—É—Å–∫–∞ Functional —Ç–µ—Å—Ç–æ–≤

```shell
docker-compose run --rm php sh -c 'make tests-functional'
```

–¢–∞–∫ –∂–µ –≤ —Ö–æ–¥–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ—Å—Ç–æ–≤ –º–æ–∂–µ—Ç –±—ã—Ç—å —É–¥–æ–±–Ω–æ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ç–µ—Å—Ç—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ **php**
–¥–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–π—Ç–∏ –≤ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```shell
docker-compose exec php bash
```

–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å –ø—Ä–∏–≤—ã—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã PHPUnit —É–∂–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –ù–∞–ø—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Å—å –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ **php**

```shell
make tests-all
--- –∏–ª–∏ –∂–µ ---
php bin/phpunit
```

### –§—Ä–æ–Ω—Ç —á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

–§—Ä–æ–Ω—Ç-—á–∞—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ `front`

–î–ª—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç —á–∞—Å—Ç–∏ –≤ –ø—Ä–æ–¥–µ–∫—à–µ–Ω —Ä–µ–∂–∏–º–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É

```shell
docker-compose run --rm front sh -c "yarn encore production"
```

–î–ª—è —Å–±–æ—Ä–∫–∏ —Ñ—Ä–æ–Ω—Ç-—á–∞—Å—Ç–∏ –≤ dev —Ä–µ–∂–∏–º–µ

```shell
docker-compose run --rm front sh -c "yarn encore dev"
```
–≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è (–ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ—Ç –Ω–∞ –ª–µ—Ç—É)
```shell
docker-compose run --rm front sh -c "yarn encore dev --watch"
```
### –°–±–æ—Ä–∫–∞, –∑–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
–í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Å–±–æ—Ä–∫–∏, –∑–∞–ø—É—Å–∫–∞ –∏–ª–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –≤—ã–æ–ø–Ω—è—Ç—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ (—Ç–∞–º –≥–¥–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω —Ñ–∞–π–ª **docker-compose.yml**)

–ß—Ç–æ–±—ã –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –∑–∞–Ω–æ–≤–æ (—Å –Ω—É–ª—è) –≤—ã–ø–æ–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
```shell
docker-compose build
```
–ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ (–µ—Å–ª–∏ —É–∂–µ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–∞ —Å–±–æ—Ä–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ - build) —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å —Ä–∞–æ–±—Ç–∞—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º:
```shell
docker-compose up -d
```
–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```shell
docker-compose stop
```
–ï—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
```shell
docker-compose down
```
–ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –±—É–¥–µ—Ç –∏—Ö –∑–∞–Ω–æ–≤–æ —Å–æ–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥–æ–π `docker-compose build`
